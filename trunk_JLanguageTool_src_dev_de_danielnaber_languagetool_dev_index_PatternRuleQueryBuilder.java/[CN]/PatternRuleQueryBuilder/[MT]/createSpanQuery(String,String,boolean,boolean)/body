{
  SpanQuery q=null;
  if (token != null && !token.equals("")) {
    final Term term=new Term(FIELD_NAME,prefix + token);
    if (isNegation) {
      q=new SpanRegexNotQuery(term);
    }
 else {
      if (isRegularExpression) {
        q=new SpanRegexQuery(term);
      }
 else {
        q=new SpanTermQuery(term);
      }
    }
  }
  return q;
}
