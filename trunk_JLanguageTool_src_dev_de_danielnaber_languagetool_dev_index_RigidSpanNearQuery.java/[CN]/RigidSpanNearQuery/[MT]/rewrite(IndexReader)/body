{
  RigidSpanNearQuery clone=null;
  for (int i=0; i < clauses.size(); i++) {
    final SpanQuery c=clauses.get(i);
    final SpanQuery query=(SpanQuery)c.rewrite(reader);
    if (query != c) {
      if (clone == null)       clone=(RigidSpanNearQuery)this.clone();
      clone.clauses.set(i,query);
    }
  }
  if (clone != null) {
    return clone;
  }
 else {
    return this;
  }
}
