{
  final JLanguageTool tool=new JLanguageTool(new English());
  List<RuleMatch> matches=tool.check("(This is an quote.\n It ends in the second sentence.");
  assertEquals(2,matches.size());
  assertEquals(2,tool.getSentenceCount());
  matches=tool.check("(This is an quote.\n It ends in the second sentence.",false,ParagraphHandling.ONLYNONPARA);
  assertEquals(1,matches.size());
  assertEquals("EN_A_VS_AN",matches.get(0).getRule().getId());
  assertEquals(1,tool.getSentenceCount());
  matches=tool.check("(This is an quote.\n It ends in the second sentence.",false,ParagraphHandling.ONLYPARA);
  assertEquals(1,matches.size());
  assertEquals("EN_UNPAIRED_BRACKETS",matches.get(0).getRule().getId());
  assertEquals(1,tool.getSentenceCount());
  matches=tool.check("(This is an quote.\n It ends in the second sentence.",true,ParagraphHandling.ONLYPARA);
  assertEquals(1,matches.size());
  assertEquals("EN_UNPAIRED_BRACKETS",matches.get(0).getRule().getId());
  assertEquals(2,tool.getSentenceCount());
}
