{
  final List<RuleMatch> ruleMatches=new ArrayList<>();
  final AnalyzedTokenReadings[] tokens=sentence.getTokensWithoutWhitespace();
  final String msg=MessageFormat.format(messages.getString("long_sentence_rule_msg"),maxWords);
  int numWords=0;
  int pos=0;
  if (tokens.length < maxWords + 1) {
    return toRuleMatchArray(ruleMatches);
  }
 else {
    for (    AnalyzedTokenReadings aToken : tokens) {
      final String token=aToken.getToken();
      pos+=token.length();
      if (!aToken.isSentenceStart() && !aToken.isSentenceEnd() && !NON_WORD_REGEX.matcher(token).matches()) {
        numWords++;
      }
    }
  }
  if (numWords > maxWords) {
    final RuleMatch ruleMatch=new RuleMatch(this,0,pos,msg);
    ruleMatches.add(ruleMatch);
  }
  return toRuleMatchArray(ruleMatches);
}
