{
  try {
    File input=File.createTempFile("input","txt");
    input.deleteOnExit();
    PrintWriter w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(input),"UTF-8"));
    w.println("this is not actual.\tTo nie jest aktualne.");
    w.println("test\tTest");
    w.println("ab\tVery strange data indeed, much longer than input");
    w.close();
    String[] args=new String[]{"-l","pl","--bitext","-m","en","-d","UPPERCASE_SENTENCE_START,TRANSLATION_LENGTH",input.getAbsolutePath()};
    Main.main(args);
    String output=new String(this.out.toByteArray());
    assertTrue(output.indexOf("Expected text language: Polish") == 0);
    assertTrue(output.indexOf("Message: Hint: \"aktualny\" (Polish) means \"current\", \"(the) latest\", \"up-to-date\" (English). Did you mean 'rzeczywisty'?") != -1);
    assertTrue(output.indexOf("Line 1, column 32, Rule ID: ACTUAL") != -1);
    assertTrue(output.indexOf("Rule ID: TRANSLATION_LENGTH") == -1);
  }
 catch (  ExitException e) {
    assertEquals("Exit status",1,e.status);
  }
}
