{
  try {
    config=new Configuration(new File(System.getProperty("user.home")),CONFIG_FILE,currentLanguage);
    languageTool=new MultiThreadedJLanguageTool(currentLanguage,config.getMotherTongue());
    languageTool.activateDefaultPatternRules();
    languageTool.activateDefaultFalseFriendRules();
    final Set<String> disabledRules=config.getDisabledRuleIds();
    if (disabledRules != null) {
      for (      final String ruleId : disabledRules) {
        languageTool.disableRule(ruleId);
      }
    }
    final Set<String> disabledCategories=config.getDisabledCategoryNames();
    if (disabledCategories != null) {
      for (      final String categoryName : disabledCategories) {
        languageTool.disableCategory(categoryName);
      }
    }
    final Set<String> enabledRules=config.getEnabledRuleIds();
    if (enabledRules != null) {
      for (      String ruleName : enabledRules) {
        languageTool.enableDefaultOffRule(ruleName);
        languageTool.enableRule(ruleName);
      }
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
