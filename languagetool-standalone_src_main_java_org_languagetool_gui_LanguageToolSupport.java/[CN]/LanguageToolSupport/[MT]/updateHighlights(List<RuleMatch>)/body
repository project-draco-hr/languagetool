{
  List<Span> spans=new ArrayList<>();
  for (  RuleMatch match : matches) {
    spans.add(new Span(match));
  }
  prepareUpdateHighlights(matches,spans);
}
