{
  removeHighlights();
  Highlighter h=textComponent.getHighlighter();
  ArrayList<Span> spellErrors=new ArrayList<>();
  ArrayList<Span> grammarErrors=new ArrayList<>();
  for (  Span span : documentSpans) {
    if (span.start == span.end) {
      continue;
    }
    if (span.spelling) {
      spellErrors.add(span);
    }
 else {
      grammarErrors.add(span);
    }
  }
  for (  Span span : grammarErrors) {
    try {
      h.addHighlight(span.start,span.end,bluePainter);
    }
 catch (    BadLocationException ex) {
      ex.printStackTrace();
    }
  }
  for (  Span span : spellErrors) {
    try {
      h.addHighlight(span.start,span.end,redPainter);
    }
 catch (    BadLocationException ex) {
      ex.printStackTrace();
    }
  }
}
