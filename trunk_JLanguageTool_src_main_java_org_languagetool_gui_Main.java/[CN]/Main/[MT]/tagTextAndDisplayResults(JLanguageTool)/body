{
  if (StringTools.isEmpty(textArea.getText().trim())) {
    textArea.setText(messages.getString("enterText2"));
  }
 else {
    final List<String> sentences=langTool.sentenceTokenize(textArea.getText());
    final StringBuilder sb=new StringBuilder();
    try {
      for (      String sent : sentences) {
        final AnalyzedSentence analyzedText=langTool.getAnalyzedSentence(sent);
        final String analyzedTextString=StringTools.escapeHTML(analyzedText.toString(", ")).replace("[","<font color='#888888'>[").replace("]","]</font>");
        sb.append(analyzedTextString).append("\n");
      }
    }
 catch (    IOException e) {
      sb.append("An error occurred while tagging the text: ").append(e.getMessage());
    }
    resultArea.setText(HTML_FONT_START + sb.toString() + HTML_FONT_END);
  }
}
