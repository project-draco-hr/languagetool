{
  assertThat(handler.detectLanguageOfString("","en",Arrays.asList("en-GB")).getShortNameWithCountryAndVariant(),is("en-GB"));
  assertThat(handler.detectLanguageOfString("X","en",Arrays.asList("en-GB")).getShortNameWithCountryAndVariant(),is("en-GB"));
  assertThat(handler.detectLanguageOfString("X","en",Arrays.asList("en-ZA")).getShortNameWithCountryAndVariant(),is("en-ZA"));
  assertThat(handler.detectLanguageOfString(english,"de",Arrays.asList("en-GB","de-AT")).getShortNameWithCountryAndVariant(),is("en-GB"));
  assertThat(handler.detectLanguageOfString(english,"de",Arrays.asList()).getShortNameWithCountryAndVariant(),is("en-US"));
  assertThat(handler.detectLanguageOfString(english,"de",Arrays.asList("de-AT","en-ZA")).getShortNameWithCountryAndVariant(),is("en-ZA"));
  String german="Das hier ist klar ein deutscher Text, sollte gut zu erkennen sein.";
  assertThat(handler.detectLanguageOfString(german,"fr",Arrays.asList("de-AT","en-ZA")).getShortNameWithCountryAndVariant(),is("de-AT"));
  assertThat(handler.detectLanguageOfString(german,"fr",Arrays.asList("de-at","en-ZA")).getShortNameWithCountryAndVariant(),is("de-AT"));
  assertThat(handler.detectLanguageOfString(german,"fr",Arrays.asList()).getShortNameWithCountryAndVariant(),is("de-DE"));
}
