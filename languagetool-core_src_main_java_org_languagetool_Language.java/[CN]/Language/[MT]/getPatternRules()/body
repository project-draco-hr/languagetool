{
  if (patternRules == null) {
    patternRules=new ArrayList<>();
    PatternRuleLoader ruleLoader=new PatternRuleLoader();
    for (    String fileName : getRuleFileNames()) {
      InputStream is=null;
      try {
        is=this.getClass().getResourceAsStream(fileName);
        if (is == null) {
          is=new FileInputStream(fileName);
        }
        patternRules.addAll(ruleLoader.getRules(is,fileName));
      }
  finally {
        if (is != null) {
          is.close();
        }
      }
    }
  }
  return patternRules;
}
