{
  for (  final Language lang : Languages.get()) {
    if (ignoredLanguages != null && ignoredLanguages.contains(lang)) {
      continue;
    }
    System.out.println("Running disambiguation tests for " + lang.getName() + "...");
    final DisambiguationRuleLoader ruleLoader=new DisambiguationRuleLoader();
    final JLanguageTool languageTool=new JLanguageTool(lang);
    if (!(languageTool.getLanguage().getDisambiguator() instanceof DemoDisambiguator)) {
      final String name=JLanguageTool.getDataBroker().getResourceDir() + "/" + lang.getShortName()+ "/disambiguation.xml";
      validateRuleFile(name);
      final List<DisambiguationPatternRule> rules=ruleLoader.getRules(ruleLoader.getClass().getResourceAsStream(name));
      for (      DisambiguationPatternRule rule : rules) {
        PatternTestTools.warnIfRegexpSyntaxNotKosher(rule.getElements(),rule.getId(),rule.getSubId(),lang);
      }
      testDisambiguationRulesFromXML(rules,languageTool,lang);
      System.out.println(rules.size() + " rules tested.");
    }
  }
}
