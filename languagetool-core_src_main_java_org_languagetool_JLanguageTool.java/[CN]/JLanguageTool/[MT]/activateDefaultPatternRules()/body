{
  final List<PatternRule> patternRules=new ArrayList<>();
  for (  String patternRuleFileName : language.getRuleFileNames()) {
    patternRules.addAll(loadPatternRules(patternRuleFileName));
  }
  final List<String> enabledRules=language.getDefaultEnabledRulesForVariant();
  final List<String> disabledRules=language.getDefaultDisabledRulesForVariant();
  if (!enabledRules.isEmpty() || !disabledRules.isEmpty()) {
    for (    PatternRule patternRule : patternRules) {
      if (enabledRules.contains(patternRule.getId())) {
        patternRule.setDefaultOn();
      }
      if (disabledRules.contains(patternRule.getId())) {
        patternRule.setDefaultOff();
      }
    }
  }
  userRules.addAll(patternRules);
}
