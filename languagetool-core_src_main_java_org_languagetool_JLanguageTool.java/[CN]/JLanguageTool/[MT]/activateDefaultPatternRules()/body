{
  final List<PatternRule> patternRules=new ArrayList<>();
  final List<String> enabledRules=language.getEnabledRules();
  final List<String> disabledRules=language.getDisabledRules();
  for (  String patternRuleFileName : language.getRuleFileNames()) {
    patternRules.addAll(loadPatternRules(patternRuleFileName));
  }
  if (enabledRules != null || disabledRules != null) {
    for (    PatternRule patternRule : patternRules) {
      if (enabledRules != null && enabledRules.contains(patternRule.getId())) {
        patternRule.setDefaultOn();
      }
      if (disabledRules != null && disabledRules.contains(patternRule.getId())) {
        patternRule.setDefaultOff();
      }
    }
  }
  userRules.addAll(patternRules);
}
