{
  if (args.length > 3) {
    printUsageAndExit();
  }
  HTTPServer.verbose=false;
  int port=DEFAULT_PORT;
  for (int i=0; i < args.length; i++) {
    if ("-p".equals(args[i]) || "--port".equals(args[i])) {
      port=Integer.parseInt(args[++i]);
    }
 else     if ("-v".equals(args[i]) || "--verbose".equals(args[i])) {
      verbose=true;
    }
  }
  try {
    final com.sun.net.httpserver.HttpServer server=HttpServer.create(new InetSocketAddress(port),0);
    server.createContext("/",new LanguageToolHttpHandler());
    server.start();
  }
 catch (  Exception e) {
    throw new RuntimeException("Could not start LanguageTool HTTP server on port " + port,e);
  }
}
