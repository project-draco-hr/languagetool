{
  super.setUp();
  language=new English();
  directory=new RAMDirectory();
  final Map<String,Analyzer> analyzerMap=new HashMap<String,Analyzer>();
  analyzerMap.put(FIELD_NAME,new LanguageToolAnalyzer(LUCENE_VERSION,new JLanguageTool(language),false));
  analyzerMap.put(FIELD_NAME_LOWERCASE,new LanguageToolAnalyzer(LUCENE_VERSION,new JLanguageTool(language),true));
  final Analyzer analyzer=new PerFieldAnalyzerWrapper(new DoNotUseAnalyzer(),analyzerMap);
  final IndexWriterConfig config=new IndexWriterConfig(LUCENE_VERSION,analyzer);
  final IndexWriter writer=new IndexWriter(directory,config);
  try {
    addDocument(writer,"How do you thin about this wonderful idea?");
    addDocument(writer,"The are several grammar checkers for English, E.G. LanguageTool.");
  }
  finally {
    writer.close();
  }
  reader=DirectoryReader.open(directory);
  searcher=newSearcher(reader);
}
