{
  final List<RuleMatch> ruleMatches=new ArrayList<RuleMatch>();
  final AnalyzedTokenReadings[] tokens=text.getTokensWithoutWhitespace();
  loop:   for (int i=1; i < tokens.length; i++) {
    final String token;
    if (i == 1) {
      token=tokens[i].getToken().toLowerCase();
    }
 else {
      token=tokens[i].getToken();
    }
    if (matchPostagRegexp(tokens[i],NO_VERB))     continue loop;
    final Matcher mUpperCase=UPPERCASE.matcher(tokens[i].getToken());
    if (i > 1 && mUpperCase.matches())     continue loop;
    if (i + 2 < tokens.length && matchLemmaRegexp(tokens[i],VERBS_PORTAR_DUR) && !hasVerbMultipleReadings(tokens[i]) && isThereReflexivePronoun(tokens,i) && isThereAfterWithoutPreposition(tokens,i,POSTAG_CD) && !isThereVerbBefore(tokens,i,VERBS_DEIXAR_FER) && !(isThereVerbBefore(tokens,i,VERBS_POTENCIALMENT_PRONOMINALS) && !isThereVerbBefore(tokens,i,NO_VERBS_POTENCIALMENT_PRONOMINALS)) && !matchPostagRegexp(tokens[i + 1],POSTAG_ADVERBI) && !matchPostagRegexp(tokens[i + 2],POSTAG_ADVERBI) && !matchLemmaRegexp(tokens[i + 2],ANYMESDIA) && !isPhraseImpersonalVerbSP(tokens,i)) {
      String suggestion;
      if (matchLemmaRegexp(tokens[i],VERB_PORTAR)) {
        suggestion="em" + token;
      }
 else       if (token.equalsIgnoreCase("du")) {
        suggestion="end??";
      }
 else {
        suggestion="en" + token;
      }
      final String msg="??Vol??eu dir <suggestion>" + suggestion + "</suggestion>?";
      final RuleMatch ruleMatch=new RuleMatch(this,tokens[i].getStartPos(),tokens[i].getStartPos() + token.length(),msg,"Possible error");
      ruleMatches.add(ruleMatch);
      continue loop;
    }
    if (i + 1 < tokens.length && matchPostagRegexp(tokens[i],VERB_INF) && !matchPostagRegexp(tokens[i - 1],PREPOSICIO) && isThereVerbBefore(tokens,i,VERBS_DEIXAR_FER) && isThereBefore(tokens,i,LEMMA_PRONOM_CD,POSTAG_PRONOM_CD) && matchRegexp(tokens[i + 1].getToken(),REFLEXIU_POSPOSAT)) {
      final String msg="En aquesta per??frasi verbal el pronom reflexiu posterior ??s redundant.<suggestion></suggestion>";
      final RuleMatch ruleMatch=new RuleMatch(this,tokens[i + 1].getStartPos(),tokens[i + 1].getStartPos() + tokens[i + 1].getToken().length(),msg,"Pronom redundant");
      ruleMatches.add(ruleMatch);
      continue loop;
    }
    if (matchLemmaRegexp(tokens[i],VERBS_PRONOMINALS)) {
      if (matchLemmaRegexp(tokens[i],NO_VERBS_PRONOMINALS))       continue loop;
      if (matchPostagRegexp(tokens[i],VERB_PARTICIPI) && !matchLemmaRegexp(tokens[i - 1],VERB_HAVER))       continue loop;
      if (isThereVerbBefore(tokens,i,VERBS_DEIXAR_FER) && isThereBefore(tokens,i,LEMMA_PRONOM_CD,POSTAG_PRONOM_CD))       continue loop;
      if (isThereReflexivePronoun(tokens,i))       continue loop;
      final String msg="Aquest verb ??s pronominal. Falta un pronom.";
      final RuleMatch ruleMatch=new RuleMatch(this,tokens[i].getStartPos(),tokens[i].getStartPos() + token.length(),msg,"Verb pronominal: falta un pronom");
      ruleMatches.add(ruleMatch);
      continue loop;
    }
    if (matchLemmaRegexp(tokens[i],VERBS_NO_PRONOMINALS)) {
      if (matchLemmaRegexp(tokens[i],NO_VERBS_NO_PRONOMINALS))       continue loop;
      if (!isThereReflexivePronoun(tokens,i))       continue loop;
      if (matchLemmaRegexp(tokens[i],VERBS_NO_PRONOMINALS_IMPERSONALS2) && isThereBefore(tokens,i,LEMMA_ES,POSTAG_ES) && isThereBefore(tokens,i,LEMMA_DE,POSTAG_DE)&& isThereVerbBefore(tokens,i,VERB_HAVER))       continue loop;
      if (isThereVerbBefore(tokens,i,VERBS_SOVINT_PRONOMINALS) || (isThereVerbBefore(tokens,i,VERBS_POTENCIALMENT_PRONOMINALS) && !isThereVerbBefore(tokens,i,NO_VERBS_POTENCIALMENT_PRONOMINALS)) || isThereVerbBefore(tokens,i,VERBS_PRONOMINALS))       continue loop;
      if (matchLemmaRegexp(tokens[i],VERBS_NO_PRONOMINALS_IMPERSONALS) && isPhraseImpersonalVerbS(tokens,i))       continue loop;
      if (matchLemmaRegexp(tokens[i],VERBS_NO_PRONOMINALS_IMPERSONALS2) && isPhraseImpersonalVerbSP(tokens,i))       continue loop;
      final String msg="Aquest verb no ??s pronominal. Sobra un pronom.";
      final RuleMatch ruleMatch=new RuleMatch(this,tokens[i].getStartPos(),tokens[i].getStartPos() + token.length(),msg,"Verb no pronominal: sobra un pronom");
      ruleMatches.add(ruleMatch);
    }
    if (matchLemmaRegexp(tokens[i],VERBS_MOVIMENT) && !matchPostagRegexp(tokens[i],VERB_AUXILIAR)) {
      if (isThereBefore(tokens,i,LEMMA_ES,POSTAG_ES) && isThereBefore(tokens,i,LEMMA_DE,POSTAG_DE) && isThereVerbBefore(tokens,i,VERB_HAVER))       continue loop;
      if (isThereVerbBefore(tokens,i,VERBS_SOVINT_PRONOMINALS) || (isThereVerbBefore(tokens,i,VERBS_POTENCIALMENT_PRONOMINALS) && !isThereVerbBefore(tokens,i,NO_VERBS_POTENCIALMENT_PRONOMINALS)) || isThereVerbBefore(tokens,i,VERBS_PRONOMINALS)|| isThereVerbAfter(tokens,i,VERBS_SOVINT_PRONOMINALS))       continue loop;
      if (matchLemmaRegexp(tokens[i],VERB_ANAR)) {
        if (isThereAfter(tokens,i,VERB_GERUNDI))         continue loop;
        if (isThereVerbAfter(tokens,i,VERBS_POTENCIALMENT_PRONOMINALS) || isThereVerbAfter(tokens,i,VERBS_PRONOMINALS))         continue loop;
        if (isThereBefore(tokens,i,LEMMA_ES,POSTAG_ES) && !isThereBefore(tokens,i,LEMMA_PRONOM_CI,POSTAG_PRONOM_CI) && (!isTherePersonalSubjectBefore(tokens,i,TRENCA_COMPTE) || isThereBefore(tokens,i,LEMMA_HI,POSTAG_HI))&& isVerbNumberPerson(tokens,i,VERB_3S))         continue loop;
      }
 else {
        if (isThereBefore(tokens,i,LEMMA_ES,POSTAG_ES) && !isThereBefore(tokens,i,LEMMA_PRONOM_CI,POSTAG_PRONOM_CI) && !isTherePersonalSubjectBefore(tokens,i,TRENCA_COMPTE))         continue loop;
      }
      if (isThereReflexivePronoun(tokens,i) && (!isTherePronoun(tokens,i,LEMMA_EN,POSTAG_EN))) {
        final String msg="No useu com a pronominal aquest verb, o b?? afegiu-hi el pronom 'en'.";
        final RuleMatch ruleMatch=new RuleMatch(this,tokens[i].getStartPos(),tokens[i].getStartPos() + token.length(),msg,"Falta el pronom 'en'");
        ruleMatches.add(ruleMatch);
      }
    }
  }
  return toRuleMatchArray(ruleMatches);
}
