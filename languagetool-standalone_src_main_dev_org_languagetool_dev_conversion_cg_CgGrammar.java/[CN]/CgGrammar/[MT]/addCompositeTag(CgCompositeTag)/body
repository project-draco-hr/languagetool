{
  if (tag != null && tag.tags.size() > 0) {
    tag.rehash();
    if (this.tags.containsKey(tag.hash)) {
    }
 else {
      tag.number=this.tags_list.size();
      this.tags.put(tag.hash,tag);
      this.tags_list.add(tag);
    }
  }
 else {
    System.err.println("Error: attempted to add empty composite tag to grammar on line " + this.lines);
    System.exit(1);
  }
  return this.tags.get(tag.hash);
}
