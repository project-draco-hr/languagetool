{
  String grammarFile=null;
  String ruleFile=null;
  String specificFileType=null;
  String generalFiletType=null;
  String discardFile=null;
  String disambigFile=null;
  if (args.length < 4) {
    exitWithUsageMessage();
  }
  try {
    if (args[0].equals("--check")) {
      RuleCoverage checker=new RuleCoverage(new English());
      String inFile=args[1];
      checker.evaluateRules(inFile);
      System.exit(1);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  for (int i=0; i < args.length; i++) {
switch (args[i]) {
case "-h":
case "--help":
case "--?":
case "-help":
      exitWithUsageMessage();
    break;
case "-s":
case "--specificFiletype":
  specificFileType=getSpecificFiletypeOrExit(args[++i]);
break;
case "-g":
case "--generalFiletype":
generalFiletType=getGeneralFiletypeOrExit(args[++i]);
break;
case "--outputFile":
case "-o":
grammarFile=args[++i];
break;
case "--discardFile":
case "-d":
discardFile=args[++i];
break;
case "--disambigFile":
case "-a":
disambigFile=args[++i];
break;
case "--inputFile":
case "-i":
ruleFile=args[++i];
break;
default :
System.err.println("Unknown option: " + args[i]);
exitWithUsageMessage();
break;
}
}
if (specificFileType == null) {
specificFileType="default";
}
if (generalFiletType == null) {
generalFiletType="atd";
}
if (grammarFile == null) {
System.err.println("Need to specify a grammar file");
exitWithUsageMessage();
}
if (ruleFile == null) {
System.err.println("Need to specify a rule file");
exitWithUsageMessage();
}
if (disambigFile == null) {
disambigFile="disambig.xml";
}
if (discardFile == null) {
discardFile="discard.xml";
}
RuleConverterMain prg=new RuleConverterMain(ruleFile,grammarFile,discardFile,disambigFile,generalFiletType,specificFileType);
prg.run();
}
