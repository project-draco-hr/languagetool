{
  final WikipediaQuickCheck check=new WikipediaQuickCheck();
  final String markup="== Beispiele ==\n\n" + "Eine kleine Auswahl von Fehlern.\n\n" + "Das Komma ist richtig, wegen dem Leerzeichen.";
  final MediaWikiContent wikiContent=new MediaWikiContent(markup,"2012-11-11T20:00:00");
  final MarkupAwareWikipediaResult result=check.checkWikipediaMarkup(new URL("http://fake-url.org"),wikiContent,new German());
  assertThat(result.getLastEditTimestamp(),is("2012-11-11T20:00:00"));
  final List<AppliedRuleMatch> ruleWithApplications=result.getRuleApplications();
  assertThat(ruleWithApplications.size(),is(1));
  final AppliedRuleMatch firstRuleWithApplications=ruleWithApplications.get(0);
  assertThat(firstRuleWithApplications.getRuleMatchApplications().size(),is(1));
  RuleMatchApplication ruleMatchApplication=firstRuleWithApplications.getRuleMatchApplications().get(0);
  assertTrue("Got: " + ruleMatchApplication.getTextWithCorrection(),ruleMatchApplication.getTextWithCorrection().contains("<span class=\"error\">wegen dem Leerzeichen.</span>"));
  assertThat(ruleMatchApplication.getOriginalErrorContext(10),is(" richtig, <span class=\"error\">wegen dem Leerzeichen.</span>"));
  assertThat(ruleMatchApplication.getCorrectedErrorContext(10),is(" richtig, <span class=\"error\">wegen dem Leerzeichen.</span>"));
}
