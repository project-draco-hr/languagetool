{
  final WikipediaQuickCheck check=new WikipediaQuickCheck();
  final String markup="== Beispiele ==\n\n" + "Eine kleine Auswahl von Fehlern.\n\n" + "Das Komma ist richtig, wegen dem Leerzeichen.";
  final MediaWikiContent wikiContent=new MediaWikiContent(markup,"2012-11-11T20:00:00");
  final MarkupAwareWikipediaResult result=check.checkWikipediaMarkup(new URL("http://fake-url.org"),wikiContent,new German());
  assertThat(result.getLastEditTimestamp(),is("2012-11-11T20:00:00"));
  final List<AppliedRuleMatch> appliedMatches=result.getAppliedRuleMatches();
  assertThat(appliedMatches.size(),is(1));
  final AppliedRuleMatch firstAppliedMatch=appliedMatches.get(0);
  assertThat(firstAppliedMatch.getRuleMatchApplications().size(),is(1));
  RuleMatchApplication ruleMatchApplication=firstAppliedMatch.getRuleMatchApplications().get(0);
  assertTrue("Got: " + ruleMatchApplication.getTextWithCorrection(),ruleMatchApplication.getTextWithCorrection().contains("<<span class=\"error\">>wegen dem<</span>> Leerzeichen."));
  assertThat(ruleMatchApplication.getOriginalErrorContext(12),is("st richtig, <<span class=\"error\">>wegen dem<</span>> Le"));
  assertThat(ruleMatchApplication.getCorrectedErrorContext(12),is("st richtig, <<span class=\"error\">>wegen dem<</span>> Le"));
}
