{
switch (qName) {
case RULE:
    if (language.equalsConsiderVariantsIfSpecified(textLanguage) && translationLanguage != null && translationLanguage.equalsConsiderVariantsIfSpecified(motherTongue) && language != motherTongue && !translations.isEmpty()) {
      formatter.applyPattern(messages.getString("false_friend_hint"));
      final String tokensAsString=StringUtils.join(elementList," ").replace('|','/');
      final Object[] messageArguments={tokensAsString,messages.getString(textLanguage.getShortName()),formatTranslations(translations),messages.getString(motherTongue.getShortName())};
      final String description=formatter.format(messageArguments);
      final PatternRule rule=new FalseFriendPatternRule(id,language,elementList,messages.getString("false_friend_desc") + " " + tokensAsString,description,messages.getString("false_friend"));
      rule.setCorrectExamples(correctExamples);
      rule.setIncorrectExamples(incorrectExamples);
      rule.setCategory(new Category(messages.getString("category_false_friend")));
      if (defaultOff) {
        rule.setDefaultOff();
      }
      rules.add(rule);
    }
  if (elementList != null) {
    elementList.clear();
  }
break;
case TOKEN:
finalizeTokens();
break;
case PATTERN:
inPattern=false;
break;
case TRANSLATION:
if (currentTranslationLanguage != null && currentTranslationLanguage.equalsConsiderVariantsIfSpecified(motherTongue)) {
translations.add(translation);
}
if (currentTranslationLanguage != null && currentTranslationLanguage.equalsConsiderVariantsIfSpecified(textLanguage) && language.equalsConsiderVariantsIfSpecified(motherTongue)) {
suggestions.add(translation.toString());
}
translation=new StringBuilder();
inTranslation=false;
currentTranslationLanguage=null;
break;
case EXAMPLE:
if (inCorrectExample) {
correctExamples.add(correctExample.toString());
}
 else if (inIncorrectExample) {
incorrectExamples.add(new IncorrectExample(incorrectExample.toString()));
}
inCorrectExample=false;
inIncorrectExample=false;
correctExample=new StringBuilder();
incorrectExample=new StringBuilder();
break;
case MESSAGE:
inMessage=false;
break;
case RULEGROUP:
if (!suggestions.isEmpty()) {
final List<String> l=new ArrayList<>(suggestions);
suggestionMap.put(id,l);
suggestions.clear();
}
inRuleGroup=false;
break;
}
}
