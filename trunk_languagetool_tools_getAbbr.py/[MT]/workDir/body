def workDir(directory):
    regex = re.compile('<w[^>]*>(.*?)<', re.DOTALL)
    files = os.listdir(directory)
    for file in files:
        filename = os.path.join(directory, file)
        if os.path.isdir(filename):
            workDir(filename)
        elif os.path.isfile(filename):
            f = open(filename)
            s = f.read()
            f.close()
            matches = regex.findall(s)
            for match in matches:
                w = match.strip()
                if w.endswith('.'):
                    if words.has_key(w):
                        words[w] = (words[w] + 1)
                    else:
                        words[w] = 1
    return
