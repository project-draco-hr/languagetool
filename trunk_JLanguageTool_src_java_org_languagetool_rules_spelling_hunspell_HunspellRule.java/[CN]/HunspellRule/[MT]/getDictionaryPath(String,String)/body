{
  final URL dictURL=JLanguageTool.getDataBroker().getFromResourceDirAsUrl(originalPath);
  String dictionaryPath=dictURL.getPath();
  if ("jar".equals(dictURL.getProtocol())) {
    final File tempDir=new File(System.getProperty("java.io.tmpdir"));
    File temporaryFile=new File(tempDir,dicName + ".dic");
    JLanguageTool.addTemporaryFile(temporaryFile);
    fileCopy(JLanguageTool.getDataBroker().getFromResourceDirAsStream(originalPath),temporaryFile);
    temporaryFile=new File(tempDir,dicName + ".aff");
    JLanguageTool.addTemporaryFile(temporaryFile);
    fileCopy(JLanguageTool.getDataBroker().getFromResourceDirAsStream(originalPath.replaceFirst(".dic$",".aff")),temporaryFile);
    dictionaryPath=tempDir.getAbsolutePath() + "/" + dicName;
  }
 else {
    final int suffixLength=".dic".length();
    dictionaryPath=dictionaryPath.substring(0,dictionaryPath.length() - suffixLength);
  }
  return dictionaryPath;
}
