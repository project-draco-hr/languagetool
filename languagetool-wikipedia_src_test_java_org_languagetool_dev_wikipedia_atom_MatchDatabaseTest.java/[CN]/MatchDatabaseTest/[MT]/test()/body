{
  MatchDatabase database=new MatchDatabase("jdbc:derby:languageToolAtomChecks;create=true","user","pass");
  database.createTable();
  database.clear();
  assertThat(database.list().size(),is(0));
  RuleMatch ruleMatch=new RuleMatch(new FakeRule(1),5,10,"my message");
  WikipediaRuleMatch wikiRuleMatch1=new WikipediaRuleMatch(ruleMatch,"my context","my article title",new Date(10000));
  database.add(wikiRuleMatch1);
  assertThat(database.list().size(),is(1));
  assertNull(database.list().get(0).getFixDate());
  RuleMatch ruleMatch2=new RuleMatch(new FakeRule(1),9,11,"my message");
  WikipediaRuleMatch wikiRuleMatch2=new WikipediaRuleMatch(ruleMatch2,"my context","my article title",new Date(9000000000L));
  int affected=database.markedFixed(wikiRuleMatch2);
  assertThat(affected,is(1));
  assertThat(database.list().get(0).getFixDate(),is(new Date(9000000000L)));
}
