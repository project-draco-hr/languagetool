{
  final PatternRuleQueryBuilder patternRuleQueryBuilder=new PatternRuleQueryBuilder();
  Query query;
  try {
    query=patternRuleQueryBuilder.buildQuery(rule);
  }
 catch (  UnsupportedPatternRuleException e) {
    query=patternRuleQueryBuilder.buildPossiblyRelaxedQuery(rule);
  }
  return query;
}
