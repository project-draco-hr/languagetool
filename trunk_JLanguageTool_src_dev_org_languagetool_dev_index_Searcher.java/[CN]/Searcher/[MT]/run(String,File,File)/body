{
  if (!xmlRuleFile.exists() || !xmlRuleFile.canRead()) {
    System.out.println("Rule XML file '" + xmlRuleFile.getAbsolutePath() + "' does not exist or is not readable, please check the path");
    System.exit(1);
  }
  final IndexSearcher searcher=new IndexSearcher(FSDirectory.open(indexDir));
  try {
    final TopDocs topDocs=run(ruleId,xmlRuleFile,searcher,true);
    printResult(topDocs,searcher,null);
  }
 catch (  UnsupportedPatternRuleException e) {
    System.out.println(e.getMessage() + " Will run checking on potential matches (this can be slow):");
    final TopDocs topDocs=run(ruleId,xmlRuleFile,searcher,false);
    final JLanguageTool languageTool=getLanguageToolWithOneRule(ruleId,xmlRuleFile);
    printResult(topDocs,searcher,languageTool);
  }
  searcher.close();
}
