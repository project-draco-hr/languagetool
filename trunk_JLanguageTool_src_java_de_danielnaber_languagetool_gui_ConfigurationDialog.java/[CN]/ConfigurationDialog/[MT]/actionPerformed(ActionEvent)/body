{
  if (e.getActionCommand().equals(OK_BUTTON)) {
    int i=0;
    inactiveRuleIds.clear();
    for (Iterator<JCheckBox> iter=checkBoxes.iterator(); iter.hasNext(); ) {
      JCheckBox checkBox=iter.next();
      if (!checkBox.isSelected()) {
        String ruleId=checkBoxesRuleIds.get(i);
        inactiveRuleIds.add(ruleId);
      }
      i++;
    }
    if (motherTongueBox.getSelectedItem() instanceof String)     motherTongue=null;
 else     motherTongue=(Language)motherTongueBox.getSelectedItem();
    isClosed=true;
    dialog.setVisible(false);
  }
 else   if (e.getActionCommand().equals(CANCEL_BUTTON)) {
    isClosed=true;
    dialog.setVisible(false);
  }
}
