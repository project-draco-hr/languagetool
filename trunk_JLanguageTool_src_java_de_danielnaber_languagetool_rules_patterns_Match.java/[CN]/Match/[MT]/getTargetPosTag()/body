{
  String targetPosTag=posTag;
  List<String> posTags=new ArrayList<String>();
  if (staticLemma) {
    final int numRead=matchedToken.getReadingsLength();
    for (int i=0; i < numRead; i++) {
      final String tst=matchedToken.getAnalyzedToken(i).getPOSTag();
      if (tst != null) {
        if (pPosRegexMatch.matcher(tst).matches()) {
          targetPosTag=matchedToken.getAnalyzedToken(i).getPOSTag();
          posTags.add(targetPosTag);
        }
      }
    }
    if (pPosRegexMatch != null & posTagReplace != null) {
      targetPosTag=pPosRegexMatch.matcher(targetPosTag).replaceAll(posTagReplace);
    }
    if (targetPosTag.indexOf('?') > 0) {
      targetPosTag=targetPosTag.replaceAll("\\?","\\\\?");
    }
  }
 else {
    final int numRead=formattedToken.getReadingsLength();
    for (int i=0; i < numRead; i++) {
      final String tst=formattedToken.getAnalyzedToken(i).getPOSTag();
      if (tst != null) {
        if (pPosRegexMatch.matcher(tst).matches()) {
          targetPosTag=formattedToken.getAnalyzedToken(i).getPOSTag();
          posTags.add(targetPosTag);
        }
      }
    }
    if (pPosRegexMatch != null & posTagReplace != null) {
      if (posTags.size() == 0) {
        posTags.add(targetPosTag);
      }
      targetPosTag="";
      for (      String lposTag : posTags) {
        lposTag=pPosRegexMatch.matcher(lposTag).replaceAll(posTagReplace);
        if (setPos) {
          lposTag=synthesizer.getPosTagCorrection(lposTag);
        }
        targetPosTag=lposTag + "|" + targetPosTag;
      }
      targetPosTag=targetPosTag.replaceAll("\\|$","");
    }
  }
  return targetPosTag;
}
