{
  final Map<Language,Set<String>> map=getLanguageToIgnoreTokensMapping();
  for (  Map.Entry<Language,Set<String>> entry : map.entrySet()) {
    final Language language=entry.getKey();
    final File langDir=getLanguageDir(language);
    final File hunspellDir=new File(langDir,"hunspell");
    if (!hunspellDir.exists()) {
      System.out.println("No directory " + hunspellDir + " found, ignoring language "+ language);
      continue;
    }
    final File ignoreFile;
    if (language.isVariant()) {
      ignoreFile=new File(hunspellDir,"ignore-" + language.getCountries()[0] + ".txt");
    }
 else {
      ignoreFile=new File(hunspellDir,"ignore.txt");
    }
    final Set<String> tokens=entry.getValue();
    try (FileOutputStream fos=new FileOutputStream(ignoreFile)){
      try (OutputStreamWriter writer=new OutputStreamWriter(fos,"utf-8")){
        writeIntro(writer,language);
        for (        String token : tokens) {
          writer.write(token);
          writer.write("\n");
        }
      }
     }
     System.out.println("Wrote " + tokens.size() + " words to "+ ignoreFile);
  }
}
