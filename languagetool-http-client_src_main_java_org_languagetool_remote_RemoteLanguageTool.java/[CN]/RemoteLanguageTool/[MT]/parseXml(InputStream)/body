{
  List<RemoteRuleMatch> result=new ArrayList<>();
  String language=null;
  String languageCode=null;
  RemoteServer remoteServer=null;
  XMLInputFactory factory=XMLInputFactory.newInstance();
  XMLEventReader reader=factory.createXMLEventReader(inputStream);
  while (reader.hasNext()) {
    XMLEvent event=reader.nextEvent();
    if (event.getEventType() == XMLStreamConstants.START_ELEMENT) {
      String elementName=event.asStartElement().getName().getLocalPart();
switch (elementName) {
case "matches":
        StartElement matches=event.asStartElement();
      remoteServer=new RemoteServer(get(matches,"software"),get(matches,"version"),get(matches,"buildDate"));
    break;
case "language":
  StartElement langElem=event.asStartElement();
language=get(langElem,"name");
languageCode=get(langElem,"shortname");
break;
case "error":
StartElement error=event.asStartElement();
result.add(getMatch(error));
break;
}
}
}
return new RemoteResult(language,languageCode,result,remoteServer);
}
