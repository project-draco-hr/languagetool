{
  if (qName.equals(RULE)) {
    translations=new ArrayList<StringBuilder>();
    id=attrs.getValue("id");
    if (!(inRuleGroup && defaultOff)) {
      defaultOff="off".equals(attrs.getValue("default"));
    }
    if (inRuleGroup && id == null) {
      id=ruleGroupId;
    }
    correctExamples=new ArrayList<String>();
    incorrectExamples=new ArrayList<IncorrectExample>();
  }
 else   if (qName.equals(PATTERN)) {
    inPattern=true;
    final String languageStr=attrs.getValue("lang");
    language=Language.getLanguageForShortName(languageStr);
    if (language == null) {
      throw new SAXException("Unknown language '" + languageStr + "'");
    }
  }
 else   if (qName.equals(TOKEN)) {
    setToken(attrs);
  }
 else   if (qName.equals(TRANSLATION)) {
    inTranslation=true;
    final String languageStr=attrs.getValue("lang");
    final Language tmpLang=Language.getLanguageForShortName(languageStr);
    if (tmpLang == null) {
      throw new SAXException("Unknown language '" + languageStr + "'");
    }
    currentTranslationLanguage=tmpLang;
    if (tmpLang.equalsConsiderVariantsIfSpecified(motherTongue)) {
      translationLanguage=tmpLang;
    }
  }
 else   if (qName.equals(EXAMPLE) && attrs.getValue(TYPE).equals("correct")) {
    inCorrectExample=true;
    correctExample=new StringBuilder();
  }
 else   if (qName.equals(EXAMPLE) && attrs.getValue(TYPE).equals("incorrect")) {
    inIncorrectExample=true;
    incorrectExample=new StringBuilder();
  }
 else   if (qName.equals(MESSAGE)) {
    inMessage=true;
    message=new StringBuilder();
  }
 else   if (qName.equals(RULEGROUP)) {
    ruleGroupId=attrs.getValue("id");
    inRuleGroup=true;
    defaultOff="off".equals(attrs.getValue(DEFAULT));
  }
}
