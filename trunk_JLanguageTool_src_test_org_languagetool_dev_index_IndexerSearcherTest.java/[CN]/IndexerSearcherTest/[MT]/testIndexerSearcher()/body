{
  final String content="How to move back and fourth from linux to xmb? Calcium deposits on eye lid.";
  Indexer.run(content,directory,Language.ENGLISH,false);
  searcher=new IndexSearcher(directory);
  final Searcher errorSearcher=new Searcher();
  final File ruleFile=new File("src/rules/en/grammar.xml");
  TopDocs topDocs=errorSearcher.run("BACK_AND_FOURTH",ruleFile,searcher,true);
  assertEquals(1,topDocs.totalHits);
  topDocs=errorSearcher.run("BACK_AND_FOURTH",ruleFile,searcher,false);
  assertEquals(1,topDocs.totalHits);
  topDocs=errorSearcher.run("ALL_OVER_THE_WORD",ruleFile,searcher,true);
  assertEquals(0,topDocs.totalHits);
  topDocs=errorSearcher.run("ALL_OVER_THE_WORD",ruleFile,searcher,false);
  assertEquals(0,topDocs.totalHits);
  try {
    errorSearcher.run("Invalid Rule Id",ruleFile,searcher,true);
    fail("Exception should be thrown for invalid rule id.");
  }
 catch (  PatternRuleNotFoundException expected) {
    try {
      errorSearcher.run("Invalid Rule Id",ruleFile,searcher,false);
      fail("Exception should be thrown for invalid rule id.");
    }
 catch (    PatternRuleNotFoundException expected2) {
    }
  }
  try {
    errorSearcher.run("EYE_BROW",ruleFile,searcher,true);
    fail("Exception should be thrown for unsupported PatternRule");
  }
 catch (  UnsupportedPatternRuleException expected) {
  }
  topDocs=errorSearcher.run("EYE_BROW",ruleFile,searcher,false);
  assertEquals(1,topDocs.totalHits);
  try {
    errorSearcher.run("ALL_FOR_NOT",ruleFile,searcher,true);
    fail("Exception should be thrown for unsupported PatternRule");
  }
 catch (  UnsupportedPatternRuleException expected) {
    topDocs=errorSearcher.run("ALL_FOR_NOT",ruleFile,searcher,false);
    assertEquals(0,topDocs.totalHits);
  }
}
