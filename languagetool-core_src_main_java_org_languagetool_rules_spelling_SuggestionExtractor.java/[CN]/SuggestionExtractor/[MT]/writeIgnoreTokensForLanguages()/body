{
  final Map<Language,Set<String>> map=getLanguageToIgnoreTokensMapping();
  for (  Map.Entry<Language,Set<String>> entry : map.entrySet()) {
    final Language language=entry.getKey();
    final File langDir=getLanguageDir(language);
    final File hunspellDir=new File(langDir,"hunspell");
    if (!hunspellDir.exists()) {
      System.out.println("No directory " + hunspellDir + " found, ignoring language "+ language);
      continue;
    }
    final File ignoreFile=new File(hunspellDir,"ignore.txt");
    final Set<String> tokens=entry.getValue();
    final FileOutputStream fos=new FileOutputStream(ignoreFile);
    final OutputStreamWriter writer=new OutputStreamWriter(fos,"utf-8");
    try {
      writeIntro(writer,language);
      for (      String token : tokens) {
        writer.write(token);
        writer.write("\n");
      }
    }
  finally {
      writer.close();
      fos.close();
    }
    System.out.println("Wrote " + tokens.size() + " words to "+ ignoreFile);
  }
}
