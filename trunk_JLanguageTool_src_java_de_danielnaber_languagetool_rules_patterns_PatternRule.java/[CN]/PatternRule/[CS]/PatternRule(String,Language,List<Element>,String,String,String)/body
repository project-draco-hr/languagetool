{
  if (id == null) {
    throw new NullPointerException("id cannot be null");
  }
  if (language == null) {
    throw new NullPointerException("language cannot be null");
  }
  if (elements == null) {
    throw new NullPointerException("elements cannot be null");
  }
  if (description == null) {
    throw new NullPointerException("description cannot be null");
  }
  this.id=id;
  PatternRule.language=language;
  this.description=description;
  this.message=message;
  this.shortMessage=shortMessage;
  this.patternElements=new ArrayList<Element>(elements);
  this.elementNo=new ArrayList<Integer>();
  String prevName="";
  String curName="";
  int cnt=0;
  int loopCnt=0;
  for (  final Element e : patternElements) {
    if (!e.isPartOfPhrase()) {
      if (cnt > 0) {
        elementNo.add(cnt);
      }
      elementNo.add(1);
      loopCnt++;
    }
 else {
      curName=e.getPhraseName();
      if (prevName.equals(curName) || StringTools.isEmpty(prevName)) {
        cnt++;
        useList=true;
      }
 else {
        elementNo.add(cnt);
        prevName="";
        curName="";
        cnt=0;
      }
      prevName=curName;
      loopCnt++;
      if (loopCnt == patternElements.size() && !StringTools.isEmpty(prevName)) {
        elementNo.add(cnt);
      }
    }
  }
}
