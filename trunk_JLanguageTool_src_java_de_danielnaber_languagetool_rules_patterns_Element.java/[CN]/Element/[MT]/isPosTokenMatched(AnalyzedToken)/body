{
  if (posToken == null) {
    return true;
  }
  if (token.getPOSTag() == null) {
    if (posRegExp) {
      if (mPos == null) {
        mPos=pPos.matcher(UNKNOWN_TAG);
      }
 else {
        mPos.reset(UNKNOWN_TAG);
      }
      return mPos.matches();
    }
    if (UNKNOWN_TAG.equals(posToken)) {
      return true;
    }
  }
  boolean match;
  if (posRegExp) {
    if (mPos == null) {
      mPos=pPos.matcher(token.getPOSTag());
    }
 else {
      mPos.reset(token.getPOSTag());
    }
    match=mPos.matches();
  }
 else {
    match=posToken.equals(token.getPOSTag());
  }
  if (!match && UNKNOWN_TAG.equals(posToken)) {
    match=JLanguageTool.SENTENCE_END_TAGNAME.equals(token.getPOSTag()) || JLanguageTool.PARAGRAPH_END_TAGNAME.equals(token.getPOSTag());
  }
  return match;
}
