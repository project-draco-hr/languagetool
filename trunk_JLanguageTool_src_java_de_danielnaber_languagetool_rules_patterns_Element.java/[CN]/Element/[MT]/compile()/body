{
  if ("".equals(referenceString)) {
    referenceString=stringToken;
  }
  stringToken=referenceString.replaceAll("\\\\" + tokenReference.getTokenRef(),tokenReference.toTokenString());
  if (!stringToken.equals("") && stringRegExp) {
    regToken=stringToken;
    if (!caseSensitive) {
      regToken=CASE_INSENSITIVE + stringToken;
    }
    p=Pattern.compile(regToken);
  }
}
