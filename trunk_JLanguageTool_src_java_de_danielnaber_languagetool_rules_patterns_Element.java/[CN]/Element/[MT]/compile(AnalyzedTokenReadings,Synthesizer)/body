{
  m=null;
  p=null;
  tokenReference.setToken(token);
  tokenReference.setSynthesizer(synth);
  if (StringTools.isEmpty(referenceString)) {
    referenceString=stringToken;
  }
  if (tokenReference.setsPos()) {
    final String posReference=tokenReference.getTargetPosTag();
    if (posReference != null) {
      if (mPos != null) {
        mPos=null;
      }
      setPosElement(posReference,tokenReference.posRegExp(),negation);
    }
    setStringElement(referenceString.replace("\\" + tokenReference.getTokenRef(),""));
    inflected=true;
  }
 else {
    setStringElement(referenceString.replace("\\" + tokenReference.getTokenRef(),tokenReference.toTokenString()));
  }
}
