{
  Properties props=new Properties();
  StringBuilder sb=new StringBuilder();
  for (Iterator<String> iter=disabledRuleIds.iterator(); iter.hasNext(); ) {
    String id=iter.next();
    sb.append(id);
    if (iter.hasNext())     sb.append(",");
  }
  if (disabledRuleIds == null)   props.setProperty(DISABLED_RULES_CONFIG_KEY,"");
 else   props.setProperty(DISABLED_RULES_CONFIG_KEY,sb.toString());
  if (motherTongue != null)   props.setProperty(MOTHER_TONGUE_CONFIG_KEY,motherTongue.getShortName());
  props.setProperty(SERVER_RUN_CONFIG_KEY,new Boolean(runServer).toString());
  props.setProperty(SERVER_PORT_CONFIG_KEY,new Integer(serverPort).toString());
  FileOutputStream fos=null;
  try {
    fos=new FileOutputStream(configFile);
    props.store(fos,"LanguageTool configuration");
  }
  finally {
    if (fos != null) {
      fos.close();
    }
  }
}
