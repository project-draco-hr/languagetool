def buildList(filename):
    pickle_filename = ('%s.pickle' % filename)
    if os.path.exists(pickle_filename):
        t1 = time.time()
        tokens = cPickle.load(open(pickle_filename))
        return tokens
    f = open(filename)
    content = f.read()
    f.close()
    global regex
    global words_regex
    global type_regex
    global word_regex
    sentences = regex.findall(content)
    tokens = []
    for s in sentences:
        words = words_regex.findall(s)
        tokens.append(('', 'S_BEGIN'))
        for w in words:
            w = w.replace('\n', ' ')
            type_match = type_regex.search(w)
            if (not type_match):
                print '*** no type_match!?'
                continue
            type_str = type_match.group(1)
            word_match = word_regex.search(w)
            word = word_match.group(1).strip()
            tokens.append((word, type_str))
        tokens.append(('', 'S_END'))
    cPickle.dump(tokens, open(pickle_filename, 'w'), 1)
    return tokens
