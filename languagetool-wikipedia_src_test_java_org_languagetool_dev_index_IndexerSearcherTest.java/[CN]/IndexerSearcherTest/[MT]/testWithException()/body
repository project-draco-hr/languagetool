{
  createIndex("How to move back and fourth from linux to xmb?");
  final Searcher errorSearcher=new Searcher();
  final Element exceptionElem=new Element("forth|back",false,true,false);
  exceptionElem.setStringPosException("exception",false,false,false,false,false,"POS",false,false);
  final List<Element> elements=Arrays.asList(new Element("move",false,false,false),exceptionElem);
  final PatternRule rule1=new PatternRule("RULE1",new English(),elements,"desc","msg","shortMsg");
  final DirectoryReader reader=DirectoryReader.open(directory);
  try {
    final IndexSearcher indexSearcher=new IndexSearcher(reader);
    final SearcherResult searcherResult=errorSearcher.findRuleMatchesOnIndex(rule1,new English(),indexSearcher);
    assertEquals(1,searcherResult.getCheckedSentences());
    assertEquals(1,searcherResult.getMatchingSentences().size());
    assertEquals(true,searcherResult.isRelaxedQuery());
    final List<RuleMatch> ruleMatches=searcherResult.getMatchingSentences().get(0).getRuleMatches();
    assertEquals(1,ruleMatches.size());
    final Rule rule=ruleMatches.get(0).getRule();
    assertEquals("RULE1",rule.getId());
  }
  finally {
    reader.close();
  }
}
