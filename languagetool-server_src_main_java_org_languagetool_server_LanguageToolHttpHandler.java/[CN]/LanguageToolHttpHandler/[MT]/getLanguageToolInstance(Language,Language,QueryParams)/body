{
  final JLanguageTool newLanguageTool=new JLanguageTool(lang,motherTongue);
  if (languageModelDir != null) {
    newLanguageTool.activateLanguageModelRules(languageModelDir);
  }
  if (!params.useQuerySettings) {
    if (rulesConfigurationFile != null) {
      configureFromRulesFile(newLanguageTool,lang);
    }
 else {
      configureFromGUI(newLanguageTool,lang);
    }
  }
  if (params.useQuerySettings) {
    Tools.selectRules(newLanguageTool,params.disabledRules,params.enabledRules,params.useEnabledOnly);
  }
  return newLanguageTool;
}
