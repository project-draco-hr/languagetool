{
  List<? extends Object> rules=rc.getRules();
  ArrayList<List<String>> ltRules=rc.getLtRules(rules);
  ArrayList<List<String>> falseAlarmRules=rc.getDisambiguationRules(rules);
  PrintWriter w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(grammarfile),"UTF-8"));
  w.write("<rules>\n");
  w.write("<category name=\"Auto-generated rules\">\n");
  for (  List<String> ltRule : ltRules) {
    for (    String line : ltRule) {
      w.write(line + '\n');
    }
  }
  w.write("</category>\n");
  w.write("</rules>");
  w.close();
  if (falseAlarmRules.size() > 0) {
    w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(disambigfile),"UTF-8"));
    for (    List<String> killedRule : falseAlarmRules) {
      for (      String line : killedRule) {
        w.write(line + '\n');
      }
    }
    w.close();
    System.out.println(Integer.toString(falseAlarmRules.size()) + " disambiguation rules written to " + disambigfile);
  }
}
