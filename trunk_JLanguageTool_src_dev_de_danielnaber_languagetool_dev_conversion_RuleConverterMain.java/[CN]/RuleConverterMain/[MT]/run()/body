{
  List<String> rules=rc.getRulesAsString();
  ArrayList<ArrayList<String>> ltRules=new ArrayList<ArrayList<String>>();
  ArrayList<ArrayList<String>> killedRules=new ArrayList<ArrayList<String>>();
  for (  String r : rules) {
    HashMap<String,String> hm=rc.parseRule(r);
    ArrayList<String> ltRule=(ArrayList<String>)rc.ltRuleAsList(hm,RuleConverter.getSuitableID(hm),RuleConverter.getSuitableName(hm),specificFiletype);
    if (notKilledRule(hm)) {
      ltRules.add(ltRule);
    }
 else {
      killedRules.add(ltRule);
    }
  }
  PrintWriter w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(grammarfile),"UTF-8"));
  w.write(RuleConverter.xmlHeader);
  w.write("<category name=\"Auto-generated AtD rules\" id=\"ATD_RULES\">\n");
  for (  ArrayList<String> ltRule : ltRules) {
    for (    String line : ltRule) {
      w.write(line + '\n');
    }
  }
  w.write("</category>\n");
  w.write("</rules>");
  w.close();
  RuleCoverage checker=new RuleCoverage(Language.ENGLISH);
  checker.evaluateRules(grammarfile);
}
