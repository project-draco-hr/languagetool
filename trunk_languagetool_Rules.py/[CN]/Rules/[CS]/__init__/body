def __init__(self, max_sentence_length, grammar_rules):
    'Parse all rules and put them in the self.rules list, together\n\t\twith built-in rules like the SentenceLengthRule.'
    self.rules = []
    length_rule = SentenceLengthRule()
    if (max_sentence_length != None):
        length_rule.setMaxLength(max_sentence_length)
    self.rules.append(length_rule)
    for filename in self.rule_files:
        dir_temp = os.getcwd()
        os.chdir(os.path.dirname(filename))
        doc = xml.dom.minidom.parse(os.path.basename(filename))
        os.chdir(dir_temp)
        rule_nodes = doc.getElementsByTagName('rule')
        for rule_node in rule_nodes:
            rule = PatternRule(rule_node)
            if ((grammar_rules == None) or (rule.rule_id in grammar_rules)):
                self.rules.append(rule)
    return
