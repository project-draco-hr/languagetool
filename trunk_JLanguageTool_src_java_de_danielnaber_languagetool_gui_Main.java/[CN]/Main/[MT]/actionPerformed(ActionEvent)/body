{
  if (e == null)   ;
  if (textArea.getText().trim().equals("")) {
    textArea.setText("Please insert text to check here");
  }
 else {
    StringBuffer sb=new StringBuffer();
    String langName=langBox.getSelectedItem().toString();
    resultArea.setText("Starting check...<br>\n");
    resultArea.repaint();
    sb.append("Starting check in " + langName + "...<br>\n");
    int matches=0;
    Language language=Language.getLanguageforName(langName);
    try {
      matches=checkText(textArea.getText(),language,sb);
    }
 catch (    Exception ex) {
      sb.append("<br><br><b><font color=\"red\">" + ex.toString() + "<br>");
      StackTraceElement[] elements=ex.getStackTrace();
      for (int i=0; i < elements.length; i++) {
        sb.append(elements[i] + "<br>");
      }
      sb.append("</font></b><br>");
      ex.printStackTrace();
    }
    sb.append("Check done. " + matches + " potential problems found<br>\n");
    resultArea.setText(sb.toString());
    resultArea.setCaretPosition(0);
  }
}
