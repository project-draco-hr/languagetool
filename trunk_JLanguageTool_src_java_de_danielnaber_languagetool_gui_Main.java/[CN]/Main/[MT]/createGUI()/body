{
  frame=new JFrame("LanguageTool " + JLanguageTool.VERSION);
  final String version=System.getProperty("java.version");
  if ("1.6.0_10".equals(version)) {
    try {
      UIManager.setLookAndFeel("com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel");
    }
 catch (    Exception ex) {
    }
  }
  frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);
  frame.addWindowListener(new CloseListener());
  frame.setIconImage(new ImageIcon(this.getClass().getResource("/resource/TrayIcon.png")).getImage());
  frame.setJMenuBar(new MainMenuBar(this,messages));
  textArea=new JTextArea(messages.getString("guiDemoText"));
  textArea.setLineWrap(true);
  textArea.setWrapStyleWord(true);
  resultArea=new JTextPane();
  resultArea.setContentType("text/html");
  resultArea.setText(HTML_FONT_START + messages.getString("resultAreaText") + HTML_FONT_END);
  resultArea.setEditable(false);
  final JLabel label=new JLabel(messages.getString("enterText"));
  final JButton button=new JButton(StringTools.getLabel(messages.getString("checkText")));
  button.setMnemonic(StringTools.getMnemonic(messages.getString("checkText")));
  button.addActionListener(this);
  final JPanel panel=new JPanel();
  panel.setLayout(new GridBagLayout());
  final GridBagConstraints buttonCons=new GridBagConstraints();
  buttonCons.gridx=0;
  buttonCons.gridy=0;
  panel.add(button,buttonCons);
  buttonCons.gridx=1;
  buttonCons.gridy=0;
  panel.add(new JLabel(" " + messages.getString("textLanguage") + " "),buttonCons);
  buttonCons.gridx=2;
  buttonCons.gridy=0;
  langBox=new JComboBox();
  populateLanguageBox();
  try {
    final Locale defaultLocale=Locale.getDefault();
    langBox.setSelectedItem(messages.getString(defaultLocale.getLanguage()));
  }
 catch (  final MissingResourceException e) {
  }
  panel.add(langBox,buttonCons);
  final Container contentPane=frame.getContentPane();
  final GridBagLayout gridLayout=new GridBagLayout();
  contentPane.setLayout(gridLayout);
  final GridBagConstraints cons=new GridBagConstraints();
  cons.insets=new Insets(5,5,5,5);
  cons.fill=GridBagConstraints.BOTH;
  cons.weightx=10.0f;
  cons.weighty=10.0f;
  cons.gridx=0;
  cons.gridy=1;
  cons.weighty=5.0f;
  final JSplitPane splitPane=new JSplitPane(JSplitPane.VERTICAL_SPLIT,new JScrollPane(textArea),new JScrollPane(resultArea));
  splitPane.setDividerLocation(200);
  contentPane.add(splitPane,cons);
  cons.fill=GridBagConstraints.NONE;
  cons.gridx=0;
  cons.gridy=2;
  cons.weighty=0.0f;
  cons.insets=new Insets(3,3,3,3);
  contentPane.add(label,cons);
  cons.gridy=3;
  contentPane.add(panel,cons);
  frame.pack();
  frame.setSize(600,550);
}
