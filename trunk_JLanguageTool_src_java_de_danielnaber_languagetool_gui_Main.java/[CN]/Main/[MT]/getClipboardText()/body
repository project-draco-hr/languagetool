{
  Clipboard clipboard=Toolkit.getDefaultToolkit().getSystemSelection();
  if (clipboard == null) {
    clipboard=Toolkit.getDefaultToolkit().getSystemClipboard();
  }
  String s=null;
  final Transferable data=clipboard.getContents(this);
  try {
    if (data != null && data.isDataFlavorSupported(DataFlavor.getTextPlainUnicodeFlavor())) {
      final DataFlavor df=DataFlavor.getTextPlainUnicodeFlavor();
      final Reader sr=df.getReaderForText(data);
      s=StringTools.readerToString(sr);
    }
 else {
      s="";
    }
  }
 catch (  final Exception ex) {
    ex.printStackTrace();
    s=data.toString();
  }
  return s;
}
