{
  int charCount=0;
  int lineCount=0;
  int columnCount=1;
  final List<RuleMatch> ruleMatches=new ArrayList<>();
  final int threads=getThreadPoolSize();
  final ExecutorService executorService=getExecutorService(threads);
  final List<Callable<List<RuleMatch>>> callables=createTextCheckCallables(paraMode,analyzedSentences,sentences,allRules,charCount,lineCount,columnCount,threads);
  try {
    final List<Future<List<RuleMatch>>> futures=executorService.invokeAll(callables);
    for (    Future<List<RuleMatch>> future : futures) {
      ruleMatches.addAll(future.get());
    }
  }
 catch (  InterruptedException|ExecutionException e) {
    throw new RuntimeException(e);
  }
 finally {
    executorService.shutdownNow();
  }
  return ruleMatches;
}
