{
  if (args.length > 7 || usageRequested(args)) {
    System.out.println("Usage: " + HTTPSServer.class.getSimpleName() + " [-p|--port port] [--public] [--keystore keystorefile] [--password password]");
    printCommonOptions();
    System.out.println("  --keystore    a Java keystore with the SSL certificate");
    System.out.println("  --password    password for the Java keystore");
    System.exit(1);
  }
  final boolean runInternal=false;
  final HTTPSServerConfig config=new HTTPSServerConfig(args);
  try {
    final HTTPSServer server;
    if (config.isPublicAccess()) {
      System.out.println("WARNING: running in public mode, LanguageTool API can be accessed without restrictions!");
      server=new HTTPSServer(config,runInternal,null,null);
    }
 else {
      server=new HTTPSServer(config,runInternal,DEFAULT_HOST,DEFAULT_ALLOWED_IPS);
    }
    server.run();
  }
 catch (  Exception e) {
    throw new RuntimeException("Could not start LanguageTool HTTPS server on " + HTTPServerConfig.DEFAULT_HOST + ", port "+ config.getPort(),e);
  }
}
