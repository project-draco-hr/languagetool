{
  this.language=language;
  try {
    List<Rule> rules=language.getRelevantLanguageModelRules(JLanguageTool.getMessageBundle(),languageModel);
    if (rules == null) {
      throw new RuntimeException("Language " + language + " doesn't seem to support a language model");
    }
    if (rules.size() > 1) {
      throw new RuntimeException("Language " + language + " has more than one language model rule, this is not supported yet");
    }
    this.rule=(ConfusionProbabilityRule)rules.get(0);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  this.grams=grams;
}
