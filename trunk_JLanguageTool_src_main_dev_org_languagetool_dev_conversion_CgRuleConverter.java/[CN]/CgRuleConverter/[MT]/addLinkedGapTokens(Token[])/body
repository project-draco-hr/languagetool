{
  ArrayList<Token> tokens=new ArrayList<Token>(Arrays.asList(ts));
  boolean notdone=true;
  while (notdone) {
    for (int i=0; i < tokens.size(); i++) {
      if (i == 0)       continue;
 else       if (i > 0 && i < tokens.size()) {
        if (tokens.get(i).offset == tokens.get(i - 1).offset || tokens.get(i).offset == (tokens.get(i - 1).offset + 1)) {
          if (i == tokens.size() - 1)           notdone=false;
          continue;
        }
 else {
          Token newToken=new Token(new CgSet(),false,tokens.get(i - 1).offset + 1,false,false,new CgSet(),false,0,false);
          newToken.relativeOffset=tokens.get(i - 1).relativeOffset + 1;
          Token oldToken=tokens.get(i - 1);
          oldToken.relativeOffset=-1;
          tokens.set(i - 1,oldToken);
          tokens.add(i,newToken);
          break;
        }
      }
      if (i == tokens.size() - 1) {
        notdone=false;
      }
    }
  }
  return tokens.toArray(new Token[tokens.size()]);
}
