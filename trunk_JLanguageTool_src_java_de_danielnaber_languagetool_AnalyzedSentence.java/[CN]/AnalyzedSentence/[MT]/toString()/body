{
  final StringBuilder sb=new StringBuilder();
  for (  final AnalyzedTokenReadings element : tokens) {
    if (!"".equals(element.token.trim())) {
      sb.append(element.token);
      sb.append("[");
    }
    for (int j=0; j < element.getReadingsLength(); j++) {
      final String posTag=element.getAnalyzedToken(j).getPOSTag();
      if (JLanguageTool.SENTENCE_START_TAGNAME.equals(posTag)) {
        sb.append("<S>");
      }
 else       if (JLanguageTool.SENTENCE_END_TAGNAME.equals(posTag)) {
        sb.append("</S>");
      }
 else       if (element.getAnalyzedToken(j) != null && posTag == null && !(element instanceof AnalyzedGermanTokenReadings)) {
        sb.append(element.getAnalyzedToken(j).getToken());
      }
 else {
        if (!"".equals(element.token.trim())) {
          sb.append(element.getAnalyzedToken(j));
          if (j < element.getReadingsLength() - 1) {
            sb.append(",");
          }
        }
      }
    }
    if (!"".equals(element.token.trim())) {
      sb.append("]");
    }
 else {
      sb.append(" ");
    }
  }
  return sb.toString();
}
