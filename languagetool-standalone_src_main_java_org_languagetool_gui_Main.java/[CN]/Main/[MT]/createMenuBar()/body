{
  JMenuBar menuBar=new JMenuBar();
  final JMenu fileMenu=new JMenu(getLabel("guiMenuFile"));
  fileMenu.setMnemonic(getMnemonic("guiMenuFile"));
  final JMenu editMenu=new JMenu(getLabel("guiMenuEdit"));
  editMenu.setMnemonic(getMnemonic("guiMenuEdit"));
  final JMenu grammarMenu=new JMenu(getLabel("guiMenuGrammar"));
  grammarMenu.setMnemonic(getMnemonic("guiMenuGrammar"));
  final JMenu helpMenu=new JMenu(getLabel("guiMenuHelp"));
  helpMenu.setMnemonic(getMnemonic("guiMenuHelp"));
  fileMenu.add(openAction);
  fileMenu.add(saveAction);
  fileMenu.add(saveAsAction);
  fileMenu.addSeparator();
  fileMenu.add(new HideAction());
  fileMenu.addSeparator();
  fileMenu.add(new QuitAction());
  grammarMenu.add(checkAction);
  JCheckBoxMenuItem item=new JCheckBoxMenuItem(autoCheckAction);
  grammarMenu.add(item);
  grammarMenu.add(new CheckClipboardAction());
  grammarMenu.add(new TagTextAction());
  grammarMenu.add(new AddRulesAction());
  grammarMenu.add(new OptionsAction());
  helpMenu.add(new AboutAction());
  undoRedo.undoAction.putValue(Action.NAME,getLabel("guiMenuUndo"));
  undoRedo.undoAction.putValue(Action.MNEMONIC_KEY,getMnemonic("guiMenuUndo"));
  undoRedo.redoAction.putValue(Action.NAME,getLabel("guiMenuRedo"));
  undoRedo.redoAction.putValue(Action.MNEMONIC_KEY,getMnemonic("guiMenuRedo"));
  editMenu.add(undoRedo.undoAction);
  editMenu.add(undoRedo.redoAction);
  editMenu.addSeparator();
  Action cutAction=this.textArea.getActionMap().get(DefaultEditorKit.cutAction);
  cutAction.putValue(Action.SMALL_ICON,getImageIcon("sc_cut.png"));
  cutAction.putValue(Action.LARGE_ICON_KEY,getImageIcon("lc_cut.png"));
  cutAction.putValue(Action.NAME,getLabel("guiMenuCut"));
  cutAction.putValue(Action.MNEMONIC_KEY,KeyEvent.VK_T);
  editMenu.add(cutAction);
  Action copyAction=textArea.getActionMap().get(DefaultEditorKit.copyAction);
  copyAction.putValue(Action.SMALL_ICON,getImageIcon("sc_copy.png"));
  copyAction.putValue(Action.LARGE_ICON_KEY,getImageIcon("lc_copy.png"));
  copyAction.putValue(Action.NAME,getLabel("guiMenuCopy"));
  copyAction.putValue(Action.MNEMONIC_KEY,KeyEvent.VK_C);
  editMenu.add(copyAction);
  Action pasteAction=textArea.getActionMap().get(DefaultEditorKit.pasteAction);
  pasteAction.putValue(Action.SMALL_ICON,getImageIcon("sc_paste.png"));
  pasteAction.putValue(Action.LARGE_ICON_KEY,getImageIcon("lc_paste.png"));
  pasteAction.putValue(Action.NAME,getLabel("guiMenuPaste"));
  pasteAction.putValue(Action.MNEMONIC_KEY,KeyEvent.VK_P);
  editMenu.add(pasteAction);
  editMenu.addSeparator();
  Action selectAllAction=textArea.getActionMap().get(DefaultEditorKit.selectAllAction);
  selectAllAction.putValue(Action.NAME,getLabel("guiMenuSelectAll"));
  selectAllAction.putValue(Action.MNEMONIC_KEY,KeyEvent.VK_A);
  editMenu.add(selectAllAction);
  menuBar.add(fileMenu);
  menuBar.add(editMenu);
  menuBar.add(grammarMenu);
  menuBar.add(helpMenu);
  return menuBar;
}
