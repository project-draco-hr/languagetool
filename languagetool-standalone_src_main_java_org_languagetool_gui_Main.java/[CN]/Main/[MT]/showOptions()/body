{
  final JLanguageTool langTool=ltSupport.getLanguageTool();
  final List<Rule> rules=langTool.getAllRules();
  final ConfigurationDialog configDialog=ltSupport.getCurrentConfigDialog();
  configDialog.show(rules);
  Configuration config=ltSupport.getConfig();
  config.setDisabledRuleIds(configDialog.getDisabledRuleIds());
  config.setEnabledRuleIds(configDialog.getEnabledRuleIds());
  config.setDisabledCategoryNames(configDialog.getDisabledCategoryNames());
  config.setMotherTongue(configDialog.getMotherTongue());
  config.setRunServer(configDialog.getRunServer());
  config.setUseGUIConfig(configDialog.getUseGUIConfig());
  config.setServerPort(configDialog.getServerPort());
  try {
    config.saveConfiguration(langTool.getLanguage());
  }
 catch (  IOException e) {
    Tools.showError(e);
  }
  stopServer();
  maybeStartServer();
}
