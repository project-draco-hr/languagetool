{
  final Properties props=new Properties();
  addListToProperties(props,DISABLED_RULES_CONFIG_KEY,disabledRuleIds);
  addListToProperties(props,ENABLED_RULES_CONFIG_KEY,enabledRuleIds);
  addListToProperties(props,DISABLED_CATEGORIES_CONFIG_KEY,disabledCategoryNames);
  if (motherTongue != null) {
    props.setProperty(MOTHER_TONGUE_CONFIG_KEY,motherTongue.getShortName());
  }
  props.setProperty(AUTO_DETECT_CONFIG_KEY,Boolean.valueOf(autoDetect).toString());
  props.setProperty(USE_GUI_CONFIG_KEY,Boolean.valueOf(guiConfig).toString());
  props.setProperty(SERVER_RUN_CONFIG_KEY,Boolean.valueOf(runServer).toString());
  props.setProperty(SERVER_PORT_CONFIG_KEY,Integer.valueOf(serverPort).toString());
  final FileOutputStream fos=new FileOutputStream(configFile);
  try {
    props.store(fos,"LanguageTool configuration");
  }
  finally {
    fos.close();
  }
}
