{
  if (args.length < 1 || args.length > 6) {
    exitWithUsageMessagee();
  }
  boolean verbose=false;
  boolean recursive=false;
  Language language=null;
  String filename=null;
  String[] disabledRules=new String[0];
  for (int i=0; i < args.length; i++) {
    if (args[i].equals("-h") || args[i].equals("-help") || args[i].equals("--help")) {
      exitWithUsageMessagee();
    }
 else     if (args[i].equals("-v") || args[i].equals("--verbose")) {
      verbose=true;
    }
 else     if (args[i].equals("-r") || args[i].equals("--recursive")) {
      recursive=true;
    }
 else     if (args[i].equals("-d") || args[i].equals("--disable")) {
      String rules=args[++i];
      disabledRules=rules.split(",");
    }
 else     if (args[i].equals("-l") || args[i].equals("--language")) {
      String lang=args[++i];
      boolean foundLanguage=false;
      List supportedLanguages=new ArrayList();
      for (int j=0; j < Language.LANGUAGES.length; j++) {
        Language tmpLang=Language.LANGUAGES[j];
        supportedLanguages.add(tmpLang.getShortName());
        if (lang.equals(tmpLang.getShortName())) {
          language=tmpLang;
          foundLanguage=true;
          break;
        }
      }
      if (!foundLanguage) {
        System.out.println("Unknown language '" + lang + "'. Supported languages are: "+ supportedLanguages);
        exitWithUsageMessagee();
      }
    }
 else {
      filename=args[i];
    }
  }
  if (filename == null) {
    exitWithUsageMessagee();
  }
  if (language == null) {
    System.err.println("No language specified, using English");
    language=Language.ENGLISH;
  }
  Main prg=new Main(verbose,language,disabledRules);
  if (recursive) {
    prg.runRecursive(filename);
  }
 else {
    String text=prg.getFilteredText(filename);
    prg.checkText(text);
  }
}
