{
  try {
    List<Locale> locales=new ArrayList<>();
    for (    final Language element : Language.LANGUAGES) {
      if (element.getCountries().length == 0) {
        if (element.getVariant() != null) {
          locales.add(new Locale(LIBREOFFICE_SPECIAL_LANGUAGE_TAG,"",element.getShortNameWithCountryAndVariant()));
        }
 else {
          locales.add(new Locale(element.getShortName(),"",""));
        }
      }
 else {
        for (        final String country : element.getCountries()) {
          if (element.getVariant() != null) {
            locales.add(new Locale(LIBREOFFICE_SPECIAL_LANGUAGE_TAG,country,element.getShortNameWithCountryAndVariant()));
          }
 else {
            locales.add(new Locale(element.getShortName(),country,""));
          }
        }
      }
    }
    return locales.toArray(new Locale[locales.size()]);
  }
 catch (  final Throwable t) {
    showError(t);
    return new Locale[0];
  }
}
