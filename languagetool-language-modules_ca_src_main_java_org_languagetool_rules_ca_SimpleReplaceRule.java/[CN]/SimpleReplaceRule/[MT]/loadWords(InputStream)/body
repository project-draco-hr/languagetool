{
  Map<String,List<String>> map=new HashMap<String,List<String>>();
  Scanner scanner=new Scanner(stream,getEncoding());
  try {
    while (scanner.hasNextLine()) {
      String line=scanner.nextLine();
      if (line.length() < 1 || line.charAt(0) == '#') {
        continue;
      }
      if (!isCaseSensitive()) {
        line=line.toLowerCase(getLocale());
      }
      String[] parts=line.split("=");
      if (parts.length != 2) {
        throw new IOException("Format error in file " + JLanguageTool.getDataBroker().getFromRulesDirAsUrl(getFileName()) + ", line: "+ line);
      }
      String[] replacements=parts[1].split("\\|");
      map.put(parts[0],Arrays.asList(replacements));
    }
  }
  finally {
    scanner.close();
  }
  return map;
}
