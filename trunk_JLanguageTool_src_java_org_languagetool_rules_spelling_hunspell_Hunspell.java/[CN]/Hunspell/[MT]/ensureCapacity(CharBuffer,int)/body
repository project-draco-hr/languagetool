{
  if (buffer == null || buffer.capacity() < capacity) {
    buffer=CharBuffer.allocate(capacity);
  }
  return buffer;
}
