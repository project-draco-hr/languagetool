{
  final FalseFriendRuleHandler handler=new FalseFriendRuleHandler(textLanguage,motherTongue);
  final SAXParserFactory factory=SAXParserFactory.newInstance();
  final SAXParser saxParser=factory.newSAXParser();
  saxParser.getXMLReader().setFeature("http://apache.org/xml/features/nonvalidating/load-external-dtd",false);
  saxParser.parse(file,handler);
  final List<PatternRule> rules=handler.getRules();
  final ResourceBundle messages=ResourceBundle.getBundle("org.languagetool.MessagesBundle",motherTongue.getLocale());
  for (  final PatternRule rule : rules) {
    final List<String> suggestionMap=handler.getSuggestionMap().get(rule.getId());
    if (suggestionMap != null) {
      final MessageFormat msgFormat=new MessageFormat(messages.getString("false_friend_suggestion"));
      final Object[] msg=new Object[]{formatSuggestions(suggestionMap)};
      rule.setMessage(rule.getMessage() + " " + msgFormat.format(msg));
    }
  }
  return rules;
}
