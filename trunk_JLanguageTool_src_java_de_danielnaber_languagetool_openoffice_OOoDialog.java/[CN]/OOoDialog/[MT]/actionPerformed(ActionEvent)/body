{
  if (event.getActionCommand().equals(CHANGE_BUTTON)) {
    String replacement=(String)suggestionList.getSelectedValue();
    System.err.println("repl=" + replacement);
    XText text=xTextDoc.getText();
    XTextCursor cursor=text.createTextCursor();
    cursor.gotoStart(false);
    cursor.goRight((short)currentRuleMatch.getFromPos(),false);
    short errorLength=(short)(currentRuleMatch.getToPos() - currentRuleMatch.getFromPos());
    cursor.goRight(errorLength,true);
    cursor.setString(replacement);
  }
 else   if (event.getActionCommand().equals(IGNORE_BUTTON)) {
    if (currentRuleMatchPos >= ruleMatches.size() - 1) {
      complete();
    }
 else {
      currentRuleMatchPos++;
      showError(currentRuleMatchPos);
    }
  }
 else   if (event.getActionCommand().equals(IGNORE_ALL_BUTTON)) {
    JOptionPane.showMessageDialog(null,"fixme: not yet implemented");
  }
 else   if (event.getActionCommand().equals(OPTIONS_BUTTON)) {
    ConfigurationDialog cfgDialog=new ConfigurationDialog();
    cfgDialog.setDisabledRules(configuration.getDisabledRuleIds());
    cfgDialog.show(rules);
    configuration.setDisabledRuleIds(cfgDialog.getDisabledRuleIds());
  }
 else   if (event.getActionCommand().equals(CLOSE_BUTTON)) {
    close();
  }
 else {
    System.err.println("Unknown action: " + event);
  }
}
