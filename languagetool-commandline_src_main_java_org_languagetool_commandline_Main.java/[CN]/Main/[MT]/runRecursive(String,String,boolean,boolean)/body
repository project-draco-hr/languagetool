{
  final File dir=new File(filename);
  final File[] files=dir.listFiles();
  if (files == null) {
    throw new IllegalArgumentException(dir.getAbsolutePath() + " is not a directory, cannot use recursion");
  }
  for (  final File file : files) {
    try {
      if (file.isDirectory()) {
        runRecursive(file.getAbsolutePath(),encoding,listUnknown,xmlFiltering);
      }
 else {
        runOnFile(file.getAbsolutePath(),encoding,listUnknown,xmlFiltering);
      }
    }
 catch (    Exception e) {
      throw new RuntimeException("Could not check text in file " + file,e);
    }
  }
}
