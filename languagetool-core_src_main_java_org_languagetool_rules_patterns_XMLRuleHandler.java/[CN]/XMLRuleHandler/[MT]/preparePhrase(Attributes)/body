{
  phraseIdRef=attrs.getValue("idref");
  if (phraseMap.containsKey(phraseIdRef)) {
    for (    final List<Element> curPhrEl : phraseMap.get(phraseIdRef)) {
      for (      final Element e : curPhrEl) {
        e.setPhraseName(phraseIdRef);
      }
      final List<Element> copy=(List<Element>)ObjectUtils.clone(curPhrEl);
      for (      Element element : copy) {
        element.setInsideMarker(inMarker);
      }
      if (elementList.isEmpty()) {
        phraseElementList.add(new ArrayList<>(copy));
      }
 else {
        final ArrayList<Element> prevList=new ArrayList<>(elementList);
        prevList.addAll(copy);
        phraseElementList.add(new ArrayList<>(prevList));
        prevList.clear();
      }
    }
    lastPhrase=true;
  }
}
