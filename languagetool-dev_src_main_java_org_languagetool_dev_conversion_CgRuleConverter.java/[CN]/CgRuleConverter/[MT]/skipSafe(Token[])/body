{
  Collection<Token> scanningTokens=new HashSet<>();
  Collection<Token> reverseScanningTokens=new HashSet<>();
  Collection<Token> normalTokens=new HashSet<>();
  for (  Token token : tokens) {
    if (token.scanahead) {
      scanningTokens.add(token);
    }
 else     if (token.scanbehind) {
      reverseScanningTokens.add(token);
    }
 else {
      normalTokens.add(token);
    }
  }
  for (  Token s : scanningTokens) {
    for (    Token o : normalTokens) {
      if (s.offset <= o.offset)       return false;
    }
  }
  for (  Token s : reverseScanningTokens) {
    for (    Token o : normalTokens) {
      if (s.offset >= o.offset)       return false;
    }
  }
  return true;
}
