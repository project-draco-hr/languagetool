{
  try {
    final Map<String,Analyzer> analyzerMap=new HashMap<>();
    analyzerMap.put(FIELD_NAME,new LanguageToolAnalyzer(LUCENE_VERSION,new JLanguageTool(language),false));
    analyzerMap.put(FIELD_NAME_LOWERCASE,new LanguageToolAnalyzer(LUCENE_VERSION,new JLanguageTool(language),true));
    final Analyzer analyzer=new PerFieldAnalyzerWrapper(new DoNotUseAnalyzer(),analyzerMap);
    final IndexWriterConfig writerConfig=new IndexWriterConfig(LUCENE_VERSION,analyzer);
    writerConfig.setOpenMode(OpenMode.CREATE);
    writer=new IndexWriter(dir,writerConfig);
    sentenceTokenizer=language.getSentenceTokenizer();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
