{
  if (!ruleXmlFile.exists() || !ruleXmlFile.canRead()) {
    System.out.println("Rule XML file '" + ruleXmlFile.getAbsolutePath() + "' does not exist or is not readable, please check the path");
    System.exit(1);
  }
  final IndexSearcher searcher=new IndexSearcher(FSDirectory.open(indexDir));
  List<TopDocs> docsList;
  try {
    docsList=run(ruleId,ruleXmlFile,searcher,true);
  }
 catch (  UnsupportedPatternRuleException e) {
    System.out.println(e.getMessage() + " Try to search potential matches:");
    docsList=run(ruleId,ruleXmlFile,searcher,false);
  }
  for (  TopDocs topDocs : docsList) {
    printResult(topDocs,searcher);
  }
  searcher.close();
}
