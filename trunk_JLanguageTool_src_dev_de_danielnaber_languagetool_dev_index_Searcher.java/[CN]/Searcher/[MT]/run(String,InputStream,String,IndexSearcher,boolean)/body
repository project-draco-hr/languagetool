{
  final PatternRuleLoader ruleLoader=new PatternRuleLoader();
  final List<PatternRule> rules=ruleLoader.getRules(ruleXMLStream,ruleXmlFile);
  ruleXMLStream.close();
  boolean foundRule=false;
  final List<TopDocs> topDocsList=new ArrayList<TopDocs>();
  for (  PatternRule rule : rules) {
    if (rule.getId().equals(ruleId)) {
      final TopDocs topDocs=run(rule,searcher,checkUnsupportedRule);
      topDocsList.add(topDocs);
      foundRule=true;
    }
  }
  if (!foundRule) {
    throw new PatternRuleNotFoundException(ruleId);
  }
  return topDocsList;
}
