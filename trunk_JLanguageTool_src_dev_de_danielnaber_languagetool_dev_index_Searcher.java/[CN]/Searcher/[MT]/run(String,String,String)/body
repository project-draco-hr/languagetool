{
  PatternRuleLoader ruleLoader=new PatternRuleLoader();
  File xml=new File(ruleXML);
  if (!xml.exists() || !xml.canRead()) {
    System.out.println("Rule XML file '" + xml.getAbsolutePath() + "' does not exist or is not readable, please check the path");
    System.exit(1);
  }
  InputStream is=new FileInputStream(xml);
  List<PatternRule> rules=ruleLoader.getRules(is,ruleXML);
  PatternRule theRule=null;
  for (  PatternRule rule : rules) {
    if (rule.getId().equals(ruleId)) {
      theRule=rule;
      break;
    }
  }
  if (theRule == null) {
    System.out.println("Can not find rule '" + ruleId + "'");
    System.exit(1);
  }
  Query query=PatternRuleQueryBuilder.bulidQuery(theRule);
  IndexSearcher searcher=new IndexSearcher(FSDirectory.open(new File(indexDir)));
  TopDocs docs=searcher.search(query,100);
  ScoreDoc[] hits=docs.scoreDocs;
  System.out.println("Search results: " + docs.totalHits);
  for (int i=0; i < docs.totalHits; ) {
    Document d=searcher.doc(hits[i].doc);
    i++;
    System.out.println(i + ": " + d.get(FN));
  }
  searcher.close();
}
