{
  HTTPServer server=new HTTPServer();
  try {
    server.run();
    assertEquals("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<matches>\n</matches>\n",check(Language.GERMAN,""));
    assertEquals("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<matches>\n</matches>\n",check(Language.GERMAN,"Ein kleiner test"));
    assertTrue(check(Language.GERMAN,"ein kleiner test").indexOf("UPPERCASE_SENTENCE_START") != -1);
    String result=check(Language.GERMAN,"ein kleiner test. Und wieder Erwarten noch was.");
    assertTrue(result.indexOf("UPPERCASE_SENTENCE_START") != -1);
    assertTrue(result.indexOf("WIEDER_WILLEN") != -1);
    XMLValidator validator=new XMLValidator();
    validator.validateXMLString(result,"resource/api-output.dtd","matches");
    validator.checkSimpleXMLString(result);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
 finally {
    server.stop();
  }
}
