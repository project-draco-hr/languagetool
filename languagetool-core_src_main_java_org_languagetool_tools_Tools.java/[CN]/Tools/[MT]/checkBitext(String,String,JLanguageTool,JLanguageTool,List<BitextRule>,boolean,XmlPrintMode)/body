{
  final long startTime=System.currentTimeMillis();
  final int contextSize=DEFAULT_CONTEXT_SIZE;
  final List<RuleMatch> ruleMatches=checkBitext(src,trg,srcLt,trgLt,bRules);
  final List<RuleMatch> adaptedMatches=new ArrayList<>();
  for (  RuleMatch match : ruleMatches) {
    match=trgLt.adjustRuleMatchPos(match,0,0,0,trg,null);
    adaptedMatches.add(match);
  }
  if (apiFormat) {
    final String xml=StringTools.ruleMatchesToXML(adaptedMatches,trg,contextSize,xmlMode);
    final PrintStream out=new PrintStream(System.out,true,"UTF-8");
    out.print(xml);
  }
 else {
    printMatches(adaptedMatches,0,trg,contextSize);
  }
  if (xmlMode == StringTools.XmlPrintMode.NORMAL_XML) {
    displayTimeStats(startTime,srcLt.getSentenceCount(),apiFormat);
  }
  return adaptedMatches.size();
}
