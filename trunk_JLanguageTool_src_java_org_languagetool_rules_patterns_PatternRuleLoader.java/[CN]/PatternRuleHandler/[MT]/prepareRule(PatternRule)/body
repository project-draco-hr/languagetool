{
  if (startPos != -1 && endPos != -1) {
    rule.setStartPositionCorrection(startPos);
    rule.setEndPositionCorrection(endPos - elementList.size());
  }
 else {
    rule.setStartPositionCorrection(startPositionCorrection);
    rule.setEndPositionCorrection(endPositionCorrection);
  }
  startPos=-1;
  endPos=-1;
  startPositionCorrection=0;
  endPositionCorrection=0;
  rule.setCorrectExamples(correctExamples);
  rule.setIncorrectExamples(incorrectExamples);
  rule.setCategory(category);
  if (inRuleGroup) {
    rule.setSubId(Integer.toString(subId));
  }
 else {
    rule.setSubId("1");
  }
  caseSensitive=false;
  if (suggestionMatches != null) {
    for (    final Match m : suggestionMatches) {
      rule.addSuggestionMatch(m);
    }
    if (phraseElementList.size() <= 1) {
      suggestionMatches.clear();
    }
  }
  if (defaultOff) {
    rule.setDefaultOff();
  }
  if (category.isDefaultOff() && !defaultOn) {
    rule.setDefaultOff();
  }
  if (url != null && url.length() > 0) {
    try {
      rule.setUrl(new URL(url.toString()));
    }
 catch (    MalformedURLException e) {
      throw new RuntimeException("Could not parse URL for rule: " + rule + ": '"+ url+ "'",e);
    }
  }
}
