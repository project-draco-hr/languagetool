{
  super(messages);
  ResourceDataBroker dataBroker=JLanguageTool.getDataBroker();
  String prefix="/" + language.getShortName() + "/";
  InputStream homophonesInfoStream=dataBroker.getFromResourceDirAsStream(prefix + HOMOPHONES_INFO);
  ConfusionSetLoader confusionSetLoader=new ConfusionSetLoader(homophonesInfoStream,MIN_SENTENCES,MAX_ERROR_RATE);
  InputStream homophonesStream=dataBroker.getFromResourceDirAsStream(prefix + HOMOPHONES);
  this.wordToSet=confusionSetLoader.loadConfusionSet(homophonesStream);
  this.languageModel=languageModel;
}
