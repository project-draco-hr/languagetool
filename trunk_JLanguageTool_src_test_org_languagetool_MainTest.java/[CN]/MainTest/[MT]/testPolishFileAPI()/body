{
  File input=createTempFile();
  PrintWriter w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(input),"UTF-8"));
  w.println("To jest ??winia kt??ra si?? ??lini.");
  w.close();
  String[] args=new String[]{"-l","pl","--api","-c","utf-8",input.getAbsolutePath()};
  Main.main(args);
  String output=new String(this.out.toByteArray(),"UTF-8");
  assertTrue(output.indexOf("<?xml version=\"1.0\" encoding=\"UTF-8\"?>") == 0);
  assertTrue(output.indexOf("<error fromy=\"0\" fromx=\"8\" toy=\"0\" tox=\"21\" ruleId=\"BRAK_PRZECINKA_KTORY\" subId=\"5\"") != -1);
  assertTrue(output.indexOf("msg=\"Brak przecinka w tym fragmencie zdania. Przecinek prawdopodobnie nale??y postawi?? tak: '??winia, kt??ra'.\" replacements=\"??winia, kt??ra\" ") != -1);
  assertTrue(output.indexOf("context=\"To jest ??winia kt??ra si?? ??lini. \" contextoffset=\"8\" errorlength=\"12\"/>") != -1);
}
