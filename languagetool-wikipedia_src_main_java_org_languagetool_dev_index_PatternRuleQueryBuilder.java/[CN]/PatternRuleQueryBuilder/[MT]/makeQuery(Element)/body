{
  checkUnsupportedElement(element);
  final String termStr=element.getString();
  final String pos=element.getPOStag();
  final BooleanClause termQuery=getTermQueryOrNull(element,termStr);
  final BooleanClause posQuery=getPosQueryOrNull(element,pos);
  if (termQuery != null && posQuery != null) {
    if (mustOccur(termQuery) && mustOccur(posQuery)) {
      final SpanQuery spanQueryForTerm=asSpanQuery(termQuery);
      final SpanQuery spanQueryForPos=asSpanQuery(posQuery);
      final SpanQuery[] spanClauses={spanQueryForTerm,spanQueryForPos};
      return new BooleanClause(new SpanNearQuery(spanClauses,0,false),BooleanClause.Occur.MUST);
    }
 else {
      throw new UnsupportedPatternRuleException("FIXME: Term/POS combination not supported yet: " + element);
    }
  }
 else   if (termQuery != null) {
    return termQuery;
  }
 else   if (posQuery != null) {
    return posQuery;
  }
  throw new UnsupportedPatternRuleException("Neither POS tag nor term set for element: " + element);
}
