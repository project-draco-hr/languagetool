{
  try {
    if (str.contains("(?:")) {
      return new RegexpQuery(new Term(term.field(),term.text().replace("(?:","(")));
    }
    if (str.contains("?iu") || str.contains("?-i") || str.contains("\\d")) {
      return getFallbackRegexQuery(str);
    }
    return new RegexpQuery(term);
  }
 catch (  IllegalArgumentException e) {
    return getFallbackRegexQuery(str);
  }
}
