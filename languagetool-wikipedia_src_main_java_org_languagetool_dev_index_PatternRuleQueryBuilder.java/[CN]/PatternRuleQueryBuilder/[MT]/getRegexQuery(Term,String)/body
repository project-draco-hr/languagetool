{
  try {
    if (str.contains("(?:") || str.contains("\\d")) {
      Term newTerm=new Term(term.field(),term.text().replace("(?:","(").replace("\\d","[0-9]"));
      return new RegexpQuery(newTerm);
    }
    if (str.contains("?iu") || str.contains("?-i")) {
      return getFallbackRegexQuery(str);
    }
    return new RegexpQuery(term);
  }
 catch (  IllegalArgumentException e) {
    return getFallbackRegexQuery(str);
  }
}
