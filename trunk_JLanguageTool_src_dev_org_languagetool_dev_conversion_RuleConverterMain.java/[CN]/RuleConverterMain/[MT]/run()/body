{
  rc.parseRuleFile();
  PrintWriter w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(grammarFile),"UTF-8"));
  w.write("<rules>\n");
  w.write("<category name=\"Auto-generated rules\">\n");
  for (  List<String> ltRule : rc.ltRules) {
    for (    String line : ltRule) {
      w.write(line + '\n');
    }
  }
  w.write("</category>\n");
  w.write("</rules>");
  w.close();
  if (rc.disambiguationRules.size() > 0) {
    w=new PrintWriter(new OutputStreamWriter(new FileOutputStream(disambigFile),"UTF-8"));
    for (    List<String> killedRule : rc.disambiguationRules) {
      for (      String line : killedRule) {
        w.write(line + '\n');
      }
    }
    w.close();
    System.out.println(Integer.toString(rc.disambiguationRules.size()) + " disambiguation rules written to " + disambigFile);
  }
}
