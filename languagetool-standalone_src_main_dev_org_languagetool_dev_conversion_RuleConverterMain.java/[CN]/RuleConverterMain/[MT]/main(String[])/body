{
  String grammarFile=null;
  String ruleFile=null;
  String specificFileType=null;
  String generalFiletType=null;
  String discardFile=null;
  String disambigFile=null;
  if (args.length < 4) {
    exitWithUsageMessage();
  }
  try {
    if (args[0].equals("--check")) {
      RuleCoverage checker=new RuleCoverage(new English());
      String inFile=args[1];
      checker.evaluateRules(inFile);
      System.exit(1);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  for (int i=0; i < args.length; i++) {
    if (args[i].equals("-h") || args[i].equals("--help") || args[i].equals("--?")|| args[i].equals("-help")) {
      exitWithUsageMessage();
    }
 else     if (args[i].equals("-s") || args[i].equals("--specificFiletype")) {
      specificFileType=getSpecificFiletypeOrExit(args[++i]);
    }
 else     if (args[i].equals("-g") || args[i].equals("--generalFiletype")) {
      generalFiletType=getGeneralFiletypeOrExit(args[++i]);
    }
 else     if (args[i].equals("--outputFile") || args[i].equals("-o")) {
      grammarFile=args[++i];
    }
 else     if (args[i].equals("--discardFile") || args[i].equals("-d")) {
      discardFile=args[++i];
    }
 else     if (args[i].equals("--disambigFile") || args[i].equals("-a")) {
      disambigFile=args[++i];
    }
 else     if (args[i].equals("--inputFile") || args[i].equals("-i")) {
      ruleFile=args[++i];
    }
 else {
      System.err.println("Unknown option: " + args[i]);
      exitWithUsageMessage();
    }
  }
  if (specificFileType == null) {
    specificFileType="default";
  }
  if (generalFiletType == null) {
    generalFiletType="atd";
  }
  if (grammarFile == null) {
    System.err.println("Need to specify a grammar file");
    exitWithUsageMessage();
  }
  if (ruleFile == null) {
    System.err.println("Need to specify a rule file");
    exitWithUsageMessage();
  }
  if (disambigFile == null) {
    disambigFile="disambig.xml";
  }
  if (discardFile == null) {
    discardFile="discard.xml";
  }
  RuleConverterMain prg=new RuleConverterMain(ruleFile,grammarFile,discardFile,disambigFile,generalFiletType,specificFileType);
  prg.run();
}
