{
  if (this.in_section) {
    rule.section=result.sections.size() - 1;
    result.addRule(rule);
  }
 else   if (this.in_before_sections) {
    rule.section=-1;
    result.addRule(rule);
  }
 else   if (this.in_after_sections) {
    rule.section=-2;
    result.addRule(rule);
  }
 else   if (this.in_null_section) {
    rule.section=-3;
    result.addRule(rule);
  }
 else {
    result.destroyRule(rule);
    System.err.println("Error: rule definition attempted outside of a section on line " + result.lines);
    System.exit(1);
  }
}
