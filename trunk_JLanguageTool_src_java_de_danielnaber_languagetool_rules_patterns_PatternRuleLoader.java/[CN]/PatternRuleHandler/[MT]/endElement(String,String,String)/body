{
  if (namespaceURI == null)   namespaceURI=null;
  if (sName == null)   sName=null;
  Language language=null;
  if (qName.equals("rule")) {
    language=Language.getLanguageforShortName(languageStr);
    if (language == null) {
      throw new SAXException("Unknown language '" + languageStr + "'");
    }
    PatternRule rule=new PatternRule(id,language,pattern.toString(),description,message.toString());
    rule.setStartPositionCorrection(startPositionCorrection);
    rule.setEndPositionCorrection(endPositionCorrection);
    startPositionCorrection=0;
    endPositionCorrection=0;
    rule.setCorrectExample(correctExample.toString());
    rule.setIncorrectExample(incorrectExample.toString());
    rule.setCaseSensitive(caseSensitive);
    rules.add(rule);
  }
 else   if (qName.equals("pattern")) {
    inPattern=false;
  }
 else   if (qName.equals("example")) {
    inCorrectExample=false;
    inIncorrectExample=false;
  }
 else   if (qName.equals("message")) {
    inMessage=false;
  }
 else   if (qName.equals("rulegroup")) {
    inRuleGroup=false;
  }
 else   if (qName.equals("em") && inMessage) {
    message.append("</em>");
  }
}
